/* Styles for Visite MÃ©dicale card */
.visite-card { background: #ffffff; border-radius: 8px; padding: 1.25rem; box-shadow: 0 8px 22px rgba(12,34,63,0.06); position:relative; }
.visite-card h2 { font-weight:700; margin-bottom:0.6rem; }
.visite-section { margin:1rem 0; }
.visite-section .section-title { display:inline-block; background: linear-gradient(90deg, rgba(13,110,253,0.95) 0%, rgba(255,122,179,0.95) 100%); color:#fff; padding:0.45rem 0.8rem; border-radius:6px; font-weight:700; margin-bottom:0.8rem; box-shadow: 0 6px 18px rgba(13,110,253,0.06); }
.form-row .label { font-weight:700; font-size:0.9rem; }
.form-control.visite-input { border:1px solid rgba(0,0,0,0.06); border-radius:4px; background:#ffffff; }
.small-input { max-width:120px; }
.inline-inputs > * { margin-right:0.6rem; }
.photo-placeholder, .id-placeholder, .workcard-placeholder { height:160px; border:3px dashed #c7b7b2; border-radius:6px; display:flex; align-items:center; justify-content:center; color:#8b7b76; background:linear-gradient(180deg,#fff,#faf7f6); position:relative; overflow:hidden }
.photo-placeholder img, .id-placeholder img, .workcard-placeholder img { max-width:100%; max-height:100%; border-radius:4px; object-fit:cover; display:block }
.image-controls{ margin-top:0.6rem; display:flex; gap:0.5rem; align-items:center }
.image-hint{ font-size:0.85rem; color:#666 }
.image-drop-hover{ outline:4px solid rgba(43,26,18,0.12); }
.image-delete-btn{ background:#f8d7da; color:#842029; border:1px solid #f5c2c7; }
.image-delete-btn:hover{ background:#f1b0b7 }
/* overlay delete button on thumbnail */
.image-overlay-delete{ position:absolute; top:6px; right:6px; background:rgba(0,0,0,0.45); color:#fff; border:0; width:34px; height:34px; border-radius:50%; display:none; align-items:center; justify-content:center; font-weight:700; cursor:pointer; box-shadow:0 2px 6px rgba(0,0,0,0.25); transition:opacity 180ms ease, transform 180ms ease }
.image-overlay-delete:focus{ outline:2px solid rgba(255,255,255,0.6) }
.image-overlay-delete:hover{ background:rgba(0,0,0,0.75); transform:scale(1.06) }

/* show overlay only when an image is loaded AND when the user hovers or focuses the placeholder */
.photo-placeholder:hover img[data-loaded] ~ .image-overlay-delete,
.photo-placeholder:focus-within img[data-loaded] ~ .image-overlay-delete,
.id-placeholder:hover img[data-loaded] ~ .image-overlay-delete,
.id-placeholder:focus-within img[data-loaded] ~ .image-overlay-delete,
.workcard-placeholder:hover img[data-loaded] ~ .image-overlay-delete,
.workcard-placeholder:focus-within img[data-loaded] ~ .image-overlay-delete {
  display:flex; opacity:1;
}
.vaccin-checkboxes .form-check { display:inline-block; margin-right:0.8rem; }
.section-sub { font-size:0.95rem; margin-top:0.5rem; color:#333; }
/* section-sub color in themes */
body.dark-mode .section-sub { color: #ff7ab3 !important }
body:not(.dark-mode) .section-sub { color: #073763 }
.psy-questions textarea { min-height:60px; }
.form-actions { display:flex; gap:0.6rem; justify-content:flex-end; margin-top:1rem; }

/* Dark-mode tweaks for visite card to avoid pure-black backgrounds */
body.dark-mode .visite-card { background: #0b1220; color: #dfe8f6 }
body.dark-mode .visite-card .form-control { background:#ffffff; color:#111 }
/* make image placeholders slightly muted in dark mode */
body.dark-mode .photo-placeholder, body.dark-mode .id-placeholder, body.dark-mode .workcard-placeholder { background: linear-gradient(180deg,#0f1724,#0b1220); border-color: rgba(255,255,255,0.06); color:#9aa6b6 }

/* print styling */
@media print{
  body{background:#fff}
  .site-navbar{display:none}
  .form-actions{display:none}
  .visite-card{box-shadow:none}
}

/* Preview modal styles */
.pdf-preview-overlay{
  position:fixed;inset:0;background:rgba(0,0,0,0.55);display:flex;align-items:center;justify-content:center;z-index:1100;padding:1rem;
}
.pdf-preview-dialog{background:#fff;border-radius:8px;max-width:900px;width:100%;max-height:90vh;overflow:auto;padding:1rem;box-shadow:0 10px 30px rgba(0,0,0,0.35)}
.pdf-preview-actions{display:flex;gap:0.5rem;justify-content:flex-end;margin-bottom:0.6rem}
.pdf-preview-close{position:absolute;right:12px;top:12px;background:#fff;border:0;border-radius:4px;padding:6px 8px;cursor:pointer}
.photo-placeholder img{ width:100%; height:200px; object-fit:cover; border-radius:8px }

/* Hide interactive controls while showing the PDF preview overlay */
.pdf-preview-overlay .form-actions,
.pdf-preview-overlay .image-controls,
.pdf-preview-overlay .image-overlay-delete {
  display: none !important;
}

/* Also specifically hide the download button inside preview overlays (covering different preview wrappers) */
.pdf-preview-overlay #downloadPdf,
.pdf-preview-dialog #downloadPdf,
.pdf-preview-overlay button[id^="download"],
.pdf-preview-dialog button[id^="download"] {
  display: none !important;
}

/* VISITE MEDICALE custom header (brown theme) */
.card-header-visite{ display:flex; align-items:center; gap:1rem; margin-bottom:1rem }
.card-header-left{ width:240px; display:flex; align-items:center; justify-content:center }
.card-header-right{ width:240px; display:block }
.visite-logo{ max-width:220px; max-height:120px; display:block }
.card-header-center{ flex:1; display:flex; align-items:center; justify-content:center; text-align:center }
.visite-title{ font-size:1.8rem; font-weight:700; letter-spacing:2px; margin:0 }
/* DA gradient for the title text */
.visite-title{ background: linear-gradient(90deg, rgba(13,110,253,0.95) 0%, rgba(255,122,179,0.95) 100%); -webkit-background-clip: text; background-clip: text; color: transparent }

/* Card top bar spanning full width below header */
.card-top-bar{ width:100%; margin-bottom:12px }
.card-top-title{ width:100%; padding:12px 16px; background: linear-gradient(90deg, rgba(13,110,253,0.95) 0%, rgba(255,122,179,0.95) 100%); color:#fff; font-weight:700; border-radius:6px; text-align:center }

/* Section bars in DA gradient style */
.visite-card .section-title{ display:block; background: linear-gradient(90deg, rgba(13,110,253,0.95) 0%, rgba(255,122,179,0.95) 100%); color:#fff; padding:10px 12px; border-radius:4px; font-weight:700; margin-bottom:12px }

/* Inputs styled as underlined fields like the mock but matching DA */
.visite-input{ border:0; border-bottom:2px solid rgba(11,99,163,0.12); background:transparent; border-radius:0; padding:6px 8px }
.visite-input:focus{ outline:none; border-bottom-color: rgba(13,110,253,0.95); box-shadow:none }

/* compact label layout */
.visite-form label.label{ font-weight:700; color:#073763; font-size:0.9rem }
/* Label color switches with theme: blue-night in light, pink in dark theme */
body.dark-mode .visite-form label.label{ color: #ff7ab3 }

/* Vaccin checkboxes styled to match DA accent */
.vaccin-checkboxes .form-check { margin-right:12px }
.vaccin-checkboxes .form-check-input{ width:18px; height:18px; accent-color:#0b63a3 }
.vaccin-checkboxes .form-check-label{ margin-left:6px }

/* Make the overall card wider and with more internal spacing to show all text */
.visite-card{ max-width:980px; margin:1.25rem auto; padding:1.5rem; }

/* single close button placed bottom-right inside the card */
.visite-card .close-card-btn{ position:absolute; right:16px; bottom:16px; z-index:5 }
.visite-card .close-card-btn.btn{ padding:8px 12px }

